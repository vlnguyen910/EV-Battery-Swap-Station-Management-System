enum SubscriptionStatus {
  active
  expired
  cancelled
}

model Subscription {
  subscription_id Int                @id @default(autoincrement())
  user_id         Int
  package_id      Int
  vehicle_id      Int?
  start_date      DateTime           @default(now())
  end_date          DateTime
  status            SubscriptionStatus
  swap_used         Int                @default(0)
  distance_traveled Float              @default(0) // Quãng đường đã di chuyển (km)
  created_at        DateTime           @default(now())
  updated_at        DateTime           @updatedAt

  // Relationships
  user             User                  @relation(fields: [user_id], references: [user_id])
  package          BatteryServicePackage @relation(fields: [package_id], references: [package_id])
  vehicle          Vehicle?              @relation(fields: [vehicle_id], references: [vehicle_id])
  payments         Payment[]
  swapTransactions SwapTransaction[]

  @@map("subscriptions")
}
