model Payment {
  payment_id        Int                    @id @default(autoincrement())
  user_id           Int
  amount            Decimal                @db.Decimal(12, 2)
  payment_time      DateTime?
  method            PaymentMethod
  status            PaymentStatus
  invoice_url       String?
  created_at        DateTime               @default(now())
  order_info        String?                @db.VarChar(255)
  package_id        Int?
  subscription_id   Int?
  vehicle_id        Int?                   // Vehicle for this payment/subscription
  transaction_id    String?                @db.VarChar(100)
  updated_at        DateTime               @updatedAt
  vnp_bank_code     String?                @db.VarChar(50)
  vnp_card_type     String?                @db.VarChar(50)
  vnp_response_code String?                @db.VarChar(10)
  vnp_txn_ref       String?                @unique @db.VarChar(100)
  package           BatteryServicePackage? @relation(fields: [package_id], references: [package_id])
  subscription      Subscription?          @relation(fields: [subscription_id], references: [subscription_id])
  user              User                   @relation(fields: [user_id], references: [user_id])

  @@map("payments")
}

enum PaymentMethod {
  cash
  credit_card
  bank_transfer
  e_wallet
  vnpay
  momo
  zalopay
}

enum PaymentStatus {
  paid
  pending
  failed
  success
  cancelled
}
