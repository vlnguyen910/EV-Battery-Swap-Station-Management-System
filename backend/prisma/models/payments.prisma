model Payment {
    payment_id        Int           @id @default(autoincrement())
    user_id           Int
    subscription_id   Int?
    package_id        Int?
    amount            Decimal       @db.Decimal(12, 2)
    payment_time      DateTime?
    method            PaymentMethod
    status            PaymentStatus
    invoice_url       String?
    transaction_id    String?       @db.VarChar(100)
    vnp_txn_ref       String?       @unique @db.VarChar(100)
    vnp_response_code String?       @db.VarChar(10)
    vnp_bank_code     String?       @db.VarChar(50)
    vnp_card_type     String?       @db.VarChar(50)
    order_info        String?       @db.VarChar(255)
    created_at        DateTime      @default(now())
    updated_at        DateTime      @updatedAt

    // Relationships
    user         User                   @relation(fields: [user_id], references: [user_id])
    subscription Subscription?          @relation(fields: [subscription_id], references: [subscription_id])
    package      BatteryServicePackage? @relation(fields: [package_id], references: [package_id])

    @@map("payments")
}

enum PaymentMethod {
    vnpay
    momo
    zalopay
    cash
    credit_card
    bank_transfer
    e_wallet
}

enum PaymentStatus {
    pending
    success
    failed
    cancelled
    paid
}
