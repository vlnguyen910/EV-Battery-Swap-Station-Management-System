## Auth Service

![alt text](image.png)

AuthContext (Global State Layer)
â†“
useAuth (Hook Interface Layer)  
 â†“
useAuthHandlers (Business Logic Layer)
â†“  
AuthContainer (Container Layer)
â†“
Login/Register (Presentation Layer)

ğŸ“‹ Vai trÃ² tá»«ng lá»›p:

1. AuthContext (Global State Management)
   Chá»©c nÄƒng: Quáº£n lÃ½ global auth state cho toÃ n app
   TrÃ¡ch nhiá»‡m:
   LÆ°u trá»¯ user, token, loading, error
   Cung cáº¥p base auth functions (login, logout, register)
   Persist state vá»›i localStorage
   [## TÃ³m táº¯t ngáº¯n gá»n â€” Auth architecture (Tiáº¿ng Viá»‡t)]

   - Má»¥c tiÃªu: phÃ¢n tÃ¡ch rÃµ rÃ ng giá»¯a quáº£n lÃ½ tráº¡ng thÃ¡i, logic nghiá»‡p vá»¥ vÃ  UI.

   - Lá»›p chÃ­nh (ngáº¯n gá»n):
      - AuthContext â€” Global state (user, token). LÆ°u localStorage, decode token.
      - useAuthHandlers â€” Hook chá»©a business logic (gá»i AuthContext, Ä‘iá»u hÆ°á»›ng theo role, xá»­ lÃ½ async).
      - AuthContainer â€” Container: nháº­n props, gá»i handlers, truyá»n xuá»‘ng component presentation.
      - Login / Register â€” Presentation: form Ä‘Æ¡n thuáº§n, chá»‰ gá»i onSubmit(props).

   - Luá»“ng dá»¯ liá»‡u (má»™t dÃ²ng):
      User submit â†’ Presentation â†’ AuthContainer â†’ useAuthHandlers â†’ AuthContext â†’ authService â†’ API â†’ pháº£n há»“i â†’ navigate

   - Táº¡i sao tÃ¡ch:
      - TÃ¡ch biá»‡t trÃ¡ch nhiá»‡m giÃºp test dá»…, tÃ¡i sá»­ dá»¥ng cao vÃ  dá»… má»Ÿ rá»™ng.
      - AuthContext giá»¯ state toÃ n cá»¥c (persistence + token management).
      - useAuthHandlers xá»­ lÃ½ side-effects (navigate, setTimeout, thÃ´ng bÃ¡o) mÃ  khÃ´ng lÃ m rá»‘i context.

   - File map (nhanh):
   ```
   src/
   â”œâ”€ contexts/AuthContext.jsx
   â”œâ”€ hooks/
   â”‚  â”œâ”€ useAsyncHandler.js
   â”‚  â””â”€ useAuthHandlers.js
   â”œâ”€ components/
   â”‚  â”œâ”€ containers/AuthContainer.jsx
      â””â”€ auth/{Login.jsx, Register.jsx}
   â””â”€ services/{api.js, authService.js}
   ```

   - Ghi chÃº nhanh:
      - Äáº·t background image vÃ o `public/images/` vÃ  dÃ¹ng `url('/images/â€¦')` trong CSS.
      - Swagger: /api/docs (náº¿u backend báº­t Swagger).
      - Postman: copy accessToken tá»« localStorage Ä‘á»ƒ authorize.

   Ngáº¯n gá»n, rÃµ rÃ ng, sáºµn sÃ ng cho dev tiáº¿p theo.âœ…
  setUser(userData);
